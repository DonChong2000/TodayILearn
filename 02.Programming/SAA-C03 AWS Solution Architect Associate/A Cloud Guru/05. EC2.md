# Elastic Compute Cloud (EC2)
- A VM hosted in AWS
- you can use it right now (flexible), 
- Grow and shrink when you need (flexible)

**Plans**
- **On Demond**
	- pay by hour/second, price depending instance type
	- Suitable for short-term project and testnig
- **Reserved**
	- Reserve 1-3 years, up to 72% discount per hour charge by paying upfront
	- You can scheduled reserve instance, for fraction of a day/week/month.
		- e.g. reserve more instance at the morning to meet peak requirement of logging in.
	- They operate at a regional level
- **Spot**
	- Purchase unused capacity up to 90% discount
	- Price fluctuate with demand and supply
	- Suitable for flexible start and end time application, e.g rendering.
- **Dedicated**
	- Physical EC2 server, 
	- Compliance, Regulatory requirements don't allow hardware sharing
	- Licensing that don't allow multi-tenancy
	- ==Think of Dedicated Host, when any question talks about special licensing requirements==
		- For example: Windows Server, MS SQL Server, SUSE Linux Enterprise Server


**How to estimate price?**
Use AWS pricing calculator [AWS 定價計算工具](https://calculator.aws/#/)

# AWS Command Line


# EC2 with Roles
- Roles are preferred from security perspective
- Roles avoid hard-coding credentials, allow access without access keys and secret access keys
- We use policies to control role's permission
- Update will immediate effect after updating policies
- You can attach/detach role without stopping the instances

# Security Group
- Virtual firewall for EC2 instance
- By default everything is blocked, to let everything in: use 0.0.0.0/0
- Common Port: SSH:22, Windows RDP: 3389, HTTP:80, HTTPS(SSL):443
- It take immediately effect
- It is many to many, (any no. of EC2 instance within a group, and multi group for a EC2 instance)'
- By default, All inbound traffic is block, all outbount traffic is allowed

# Bootstrap Script (User Data)
- A script runs when the instance first starts.
- It passes user data to the EC2 instance and can used for install application and update, etc.
- Has root permission

# MetaData
- MetaData is the data about EC2 instance

**How to retrieve?**
Run command: `curl http://169.254.169.254/latest/meta-data/local-ipv4`

- You can access metedata with bootstrap script

# Networking
- E?C,
	- Cheap, 
- EEE,
	- High performance, for 10-100 GBPS network, and ?? IOPS
	- Elatic adapter
		- Always prefer this one
	- intel VN
		- For old instances
- d
	- For Machine Learning



# Placement Group
- Cluster
	- High performance, low network latency, High network throughput
- Spread
	- Spread across different AZ,
	- For durability, such as backup
- Partition
	- Each partition is a server rack with dedicated power, network, and ??